<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    layout:decorate="~{layout/layout-template.html}">

<head>
    <title>User Management System</title>
    <!-- JS Code for check confirm password but not work -->
    <!-- <script>
        $(document).ready(function () {
            $('#password, #confirm_password').on('keyup', function () {
                if ($('#password').val() == $('#confirm_password').val()) {
                    $('#myBtn').disabled = false;
                } else
                    $('#myBtn').disabled = true;
            });
        });
    </script> -->
</head>

<body>
    <div layout:fragment="content" class="content">
        <div class="container-fluid col-md-4">
            <form id="form-change-password" th:action="@{/change-password}" th:object="${user}" method="POST"
                onsubmit="return(validatePassword());">
                <h2 class="text-center">Change Password</h2>

                <div th:if="${(param.error != null) and (param.error[0] == 'true')}" style="display:none">
                    <input type="text" id="check-password-input" value="error">
                </div>

                <div class="form-group">
                    <p id="show-message" style="color: red; "></p>
                </div>

                <div class="form-group">
                    <input type="text" class="form-control" placeholder="Username" required="required"
                        th:value="*{account}" disabled>
                </div>
                <div class="form-group">
                    <input type="password" class="form-control" placeholder="Old password" 
                        id="old-password-confirm" th:name="oldPassword">
                </div>
                <div class="form-group">
                    <input type="password" id="password" class="form-control" placeholder="New password"
                         th:name="new-password">
                </div>
                <div class="form-group">
                    <input type="password" id="confirm-password" class="form-control" placeholder="Confirm password"
                        >
                </div>
                <div class="form-group">
                    <button type="submit" id="myBtn" class="btn btn-info btn-fill btn-block">Confirm</button>
                </div>
            </form>
        </div>
    </div>
</body>

</html>